<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Sản phẩm - Nguyễn Thanh Phong - AIA Việt Nam</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Sản phẩm và giải pháp bảo hiểm ưu việt từ AIA Việt Nam, tư vấn bởi Nguyễn Thanh Phong.">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Secular+One&display=swap">
  <style>
    :root {
      --aia-red:#D4001A;
    }
    body {
      font-family: ui-sans-serif, system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Secular One",sans-serif;
      color:#222;
      background:#fff;
    }
    .nav-btn-active { @apply bg-red-600 text-white; }
    .nav-btn { @apply px-4 py-2 rounded-full text-gray-700 hover:text-red-600 hover:bg-red-50 transition-all cursor-pointer whitespace-nowrap; }
    .accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .accordion-header i {
        transition: transform 0.3s ease;
    }
    .accordion-header[aria-expanded="true"] i {
        transform: rotate(180deg);
    }
  </style>
</head>
<body class="antialiased min-h-screen bg-gray-50">
  <!-- NAV -->
  <nav class="fixed top-0 w-full bg-white/95 backdrop-blur-md shadow-sm z-50 border-b border-gray-100">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center py-4">
        <a href="index.html" class="flex items-center">
          <div class="w-10 h-10 bg-gradient-to-r from-[#D4001A] to-[#B80018] rounded-full flex items-center justify-center mr-3">
            <span class="text-white font-bold text-lg">NP</span>
          </div>
          <h1 class="font-bold text-xl text-gray-800">Nguyễn Thanh Phong</h1>
        </a>
        <div id="mainNavButtons" class="hidden md:flex space-x-4 items-center">
          <button data-target="home" class="nav-btn">Trang chủ</button>
          <button data-target="about" class="nav-btn">Về tôi</button>
          <button data-target="services" class="nav-btn">Dịch vụ</button>
          <a href="congcu.html" class="nav-btn">Công Cụ</a>
          <a href="sanpham.html" class="nav-btn-active px-4 py-2 rounded-full transition-all cursor-pointer whitespace-nowrap">Sản phẩm</a>
          <a href="kehoach-taichinh.html" class="nav-btn">Kế hoạch tài chính</a>
          <button data-target="contact" class="nav-btn">Liên hệ</button>
        </div>
        <button id="mobileToggle" class="md:hidden p-2 text-gray-600 w-10 h-10 flex items-center justify-center cursor-pointer">
          <i class="ri-menu-line text-2xl"></i>
        </button>
      </div>
    </div>
    <div id="mobileMenu" class="md:hidden px-4 pb-4 space-y-2 hidden">
      <button data-target="home" class="block w-full text-left px-4 py-3 rounded-xl hover:bg-red-50 text-gray-700">Trang chủ</button>
      <button data-target="about" class="block w-full text-left px-4 py-3 rounded-xl hover:bg-red-50 text-gray-700">Về tôi</button>
      <button data-target="services" class="block w-full text-left px-4 py-3 rounded-xl hover:bg-red-50 text-gray-700">Dịch vụ</button>
      <a href="congcu.html" class="block w-full text-left px-4 py-3 rounded-xl hover:bg-red-50 text-gray-700">Công Cụ</a>
      <a href="sanpham.html" class="block w-full text-left px-4 py-3 rounded-xl bg-red-600 text-white">Sản phẩm</a>
      <a href="kehoach-taichinh.html" class="block w-full text-left px-4 py-3 rounded-xl hover:bg-red-50 text-gray-700">Kế hoạch tài chính</a>
      <button data-target="contact" class="block w-full text-left px-4 py-3 rounded-xl hover:bg-red-50 text-gray-700">Liên hệ</button>
    </div>
  </nav>

  <main class="py-20" style="padding-top: 100px;">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-4xl lg:text-5xl font-bold text-gray-900 mb-6">Sản phẩm và Giải pháp</h2>
        <p class="text-lg text-gray-600 max-w-3xl mx-auto">
          Khám phá các giải pháp bảo hiểm toàn diện của AIA, được thiết kế để bảo vệ bạn và gia đình trước mọi rủi ro, đồng thời xây dựng một tương lai tài chính vững chắc.
        </p>
      </div>

      <!-- Main Products Section -->
      <div class="mb-16">
        <h3 class="text-3xl font-bold text-gray-800 mb-8 border-l-4 border-red-600 pl-4">Sản phẩm chính</h3>
        <div class="space-y-4" id="main-products-accordion">
          <div class="accordion-item bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
            <button class="accordion-header w-full flex justify-between items-center text-left p-5 text-lg font-semibold text-gray-800 hover:bg-red-50 focus:outline-none transition-colors" aria-expanded="false" aria-controls="main-prod-1"><span>1. Khoẻ Trọn Vẹn</span><i class="ri-arrow-down-s-line"></i></button>
            <div id="main-prod-1" class="accordion-content"></div>
          </div>
          <div class="accordion-item bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
            <button class="accordion-header w-full flex justify-between items-center text-left p-5 text-lg font-semibold text-gray-800 hover:bg-red-50 focus:outline-none transition-colors" aria-expanded="false" aria-controls="main-prod-2"><span>2. Khoẻ Bình An</span><i class="ri-arrow-down-s-line"></i></button>
            <div id="main-prod-2" class="accordion-content"></div>
          </div>
          <div class="accordion-item bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
            <button class="accordion-header w-full flex justify-between items-center text-left p-5 text-lg font-semibold text-gray-800 hover:bg-red-50 focus:outline-none transition-colors" aria-expanded="false" aria-controls="main-prod-3"><span>3. Vững Tương Lai</span><i class="ri-arrow-down-s-line"></i></button>
            <div id="main-prod-3" class="accordion-content"></div>
          </div>
          <div class="accordion-item bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
            <button class="accordion-header w-full flex justify-between items-center text-left p-5 text-lg font-semibold text-gray-800 hover:bg-red-50 focus:outline-none transition-colors" aria-expanded="false" aria-controls="main-prod-4"><span>4. An Bình Ưu Việt</span><i class="ri-arrow-down-s-line"></i></button>
            <div id="main-prod-4" class="accordion-content"></div>
          </div>
          <div class="accordion-item bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
            <button class="accordion-header w-full flex justify-between items-center text-left p-5 text-lg font-semibold text-gray-800 hover:bg-red-50 focus:outline-none transition-colors" aria-expanded="false" aria-controls="main-prod-5"><span>5. Trọn Tâm An</span><i class="ri-arrow-down-s-line"></i></button>
            <div id="main-prod-5" class="accordion-content"></div>
          </div>
        </div>
      </div>

      <!-- Rider Products Section -->
      <div>
        <h3 class="text-3xl font-bold text-gray-800 mb-8 border-l-4 border-red-600 pl-4">Sản phẩm bán kèm (Rider)</h3>
        <div class="space-y-4" id="rider-products-accordion">
          <div class="accordion-item bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
            <button class="accordion-header w-full flex justify-between items-center text-left p-5 text-lg font-semibold text-gray-800 hover:bg-red-50 focus:outline-none transition-colors" aria-expanded="false" aria-controls="rider-prod-1"><span>1. Thẻ sức khoẻ Bùng Gia Lực</span><i class="ri-arrow-down-s-line"></i></button>
            <div id="rider-prod-1" class="accordion-content"></div>
          </div>
          <div class="accordion-item bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
            <button class="accordion-header w-full flex justify-between items-center text-left p-5 text-lg font-semibold text-gray-800 hover:bg-red-50 focus:outline-none transition-colors" aria-expanded="false" aria-controls="rider-prod-2"><span>2. Bệnh hiểm nghèo 2.0</span><i class="ri-arrow-down-s-line"></i></button>
            <div id="rider-prod-2" class="accordion-content"></div>
          </div>
          <div class="accordion-item bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
            <button class="accordion-header w-full flex justify-between items-center text-left p-5 text-lg font-semibold text-gray-800 hover:bg-red-50 focus:outline-none transition-colors" aria-expanded="false" aria-controls="rider-prod-3"><span>3. Tai nạn</span><i class="ri-arrow-down-s-line"></i></button>
            <div id="rider-prod-3" class="accordion-content"></div>
          </div>
          <div class="accordion-item bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
            <button class="accordion-header w-full flex justify-between items-center text-left p-5 text-lg font-semibold text-gray-800 hover:bg-red-50 focus:outline-none transition-colors" aria-expanded="false" aria-controls="rider-prod-4"><span>4. Hỗ trợ viện phí</span><i class="ri-arrow-down-s-line"></i></button>
            <div id="rider-prod-4" class="accordion-content"></div>
          </div>
          <div class="accordion-item bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
            <button class="accordion-header w-full flex justify-between items-center text-left p-5 text-lg font-semibold text-gray-800 hover:bg-red-50 focus:outline-none transition-colors" aria-expanded="false" aria-controls="rider-prod-5"><span>5. Miễn thu phí 3.0</span><i class="ri-arrow-down-s-line"></i></button>
            <div id="rider-prod-5" class="accordion-content"></div>
          </div>
        </div>
      </div>
    </div>
  </main>
  
  <script>
    const mobileToggle = document.getElementById('mobileToggle');
    const mobileMenu = document.getElementById('mobileMenu');
    mobileToggle?.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

    document.addEventListener('click', (e) => {
      const btn = e.target.closest('[data-target]');
      if (btn) {
        e.preventDefault();
        const id = btn.getAttribute('data-target');
        window.location.href = 'index.html#' + id;
      }
    });

    function setupAccordion(containerId) {
        const accordionContainer = document.getElementById(containerId);
        if (!accordionContainer) return;

        const items = accordionContainer.querySelectorAll('.accordion-item');

        items.forEach(item => {
            const header = item.querySelector('.accordion-header');
            const content = item.querySelector('.accordion-content');

            header.addEventListener('click', () => {
                const isExpanded = header.getAttribute('aria-expanded') === 'true';
                
                items.forEach(otherItem => {
                    if (otherItem !== item) {
                        otherItem.querySelector('.accordion-header').setAttribute('aria-expanded', 'false');
                        otherItem.querySelector('.accordion-content').style.maxHeight = null;
                    }
                });
                
                if (isExpanded) {
                    header.setAttribute('aria-expanded', 'false');
                    content.style.maxHeight = null;
                } else {
                    header.setAttribute('aria-expanded', 'true');
                    content.style.maxHeight = content.scrollHeight + 'px';
                }
            });
        });
    }

    async function loadProductImages() {
        try {
            const response = await fetch('images.json');
            if (!response.ok) {
                throw new Error('Không thể tải file images.json');
            }
            const imageConfig = await response.json();
            const imageFolderPath = 'hinhanh/';

            for (const productId in imageConfig) {
                const container = document.getElementById(productId);
                const imageList = imageConfig[productId];
                
                if (container && imageList && imageList.length > 0) {
                    const imagesHtml = imageList.map(imageFile => `
                        <img src="${imageFolderPath}${imageFile}" alt="Hình ảnh sản phẩm" class="rounded-lg shadow-md">
                    `).join('');

                    container.innerHTML = `
                        <div class="p-5 border-t border-gray-200">
                            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
                                ${imagesHtml}
                            </div>
                        </div>
                    `;
                } else if (container) {
                     container.innerHTML = `
                        <div class="p-5 border-t border-gray-200">
                            <p class="text-gray-500">Chưa có hình ảnh cho sản phẩm này.</p>
                        </div>
                    `;
                }
            }
        } catch (error) {
            console.error('Lỗi khi tải hình ảnh sản phẩm:', error);
            // Có thể hiển thị thông báo lỗi cho người dùng ở đây
        }
    }

    window.addEventListener('DOMContentLoaded', () => {
        loadProductImages().then(() => {
            // Khởi tạo accordion sau khi đã tải và chèn hình ảnh vào DOM
            setupAccordion('main-products-accordion');
            setupAccordion('rider-products-accordion');
        });
    });
  </script>
</body>
</html>
